{% extends 'base.html.twig' %}

{% block title %}{{ 'my_cart'|trans({}, 'messages', app.request.locale) }}{% endblock %}

{% block body %}
    <section class="bg-dark py-5">
        <div class="container px-4 px-lg-5 my-5">
            <div class="text-center text-white">
                <!-- Titre principal -->
                <h1 class="display-4 fw-bolder">{{ 'my_cart'|trans({}, 'messages', app.request.locale) }}</h1>
                <!-- Phrase d'accroche -->
                <p class="lead fw-normal text-white-50 mb-0">{{ 'what_you_order'|trans({}, 'messages', app.request.locale) }}</p>
            </div>
        </div>
    </section>
    
    <section class="py-5">
        <div class="container">
            <!-- Boucle pour afficher les messages flash -->
            {% for label, messages in app.flashes(['success', 'warning', 'danger']) %}
                {% for message in messages %}
                    <div class="alert alert-{{ label }} mt-4" role="alert">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endfor %}
            
            <!-- Message affiché pour féliciter l'utilisateur après un paiement approuvé -->
            <p>{{ 'congratulations_payment_approved'|trans({}, 'messages', app.request.locale) }}</p>

            <!-- Lien pour télécharger la facture avec une icône de téléchargement -->
            <a href="{{ path('telecharger_facture', { id: historiqueAchat.id }) }}" class="btn text-secondary">
                <span class="bi bi-download" aria-hidden="true"></span> {{ 'download_invoice'|trans({}, 'messages', app.request.locale) }}
            </a>
        </div>
    </section>

    <!-- Bouton en bas de la page pour revenir à la liste des produits -->
    <div class="card-footer p-4 pt-0 border-top-0 bg-transparent">
        <div class="text-center">
            <a class="btn btn-outline-dark mt-auto" href="{{ path('produits.list') }}">{{ 'product_list'|trans({}, 'messages', app.request.locale) }}</a>
        </div>
    </div>
{% endblock %}